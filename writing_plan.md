## 结构思路

### 画布类

属性：

+ 画布大小（分辨率、2维数组）
+ 颜色（4dVector field=-1 R G B或C M Y K，shape=画布大小)【或许可以实现CMYK？】
+ 定态扩散系数（field、shape=画布大小）



方法：

+ 初始化（输入画布大小，初始颜色默认为白，扩散系数默认为0 for all x，y）

+ 着色（输入一个4dVectorField，替换当前颜色属性）

+ 平铺画布（重置画布着色，默认为白，调用着色方法就好）



#### 宣纸类

从画布类继承。

新增属性：纤维结点（3dVector field=order，x，y），纤维线（2d Vector field=order1，order2），权重，结点数量，接线上限

修改方法：

+ 初始化：（输入画布大小，结点数量，接线上限，以及两个权重【均设默认值】、随机生成纤维结点和纤维线，计算得到其定态扩散系数）



#### 油纸类

从画布类继承。

修改方法：

+ 初始化：定态扩散系数默认值很大

  

#### to be continue

（这里想法不太成熟，看看能不能模拟更多画布上的效果）



### 笔刷类

属性：

+ 溶液浓度（用于表述液体含水量）
+ 笔刷半径（单次附加的墨水范围）
+ 笔刷厚度（单次附加的溶液量）

方法：

+ 初始化（溶液浓度，笔刷半径，笔刷厚度，默认值为毛笔的数值？）

+ 时间扩散系数（这里要想办法调一调三个参数对时间扩散系数的影响）



（如果要设置部分默认笔刷的话作为初始化里面可以选择的 dtype 是否比子类要好？子类有更高的扩展度。)



### GUI

自带的。实现渲染功能



### 运行时

或者将这一部分也构建成一个 Paint_tool 类？将画布对象、笔刷对象和 GUI 收进来作为参数。

#### Initial 方法

将类实例化，搭GUI



#### Update 方法

执行渲染和显示

有几个要点：

+ 把定态扩散系数和时间扩散系数相乘得到含时扩散系数
+ 套用变系数扩散方程解出下一时刻的墨水分布
+ 将对应位置设置颜色，调用着色方法（这里后期可以设计混色）
+ 调用GUI来显示



